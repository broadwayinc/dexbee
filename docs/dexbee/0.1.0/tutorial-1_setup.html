<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Tutorials</li><li class="nav-item"><a href="tutorial-1_setup.html">Getting Started</a></li><li class="nav-item"><a href="tutorial-2_query.html">Queries</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="DexBee.html">DexBee</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DexBee.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DexBee.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="DexBee.html#put">put</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Getting Started</h1>
    

    <section>

<header>
    
</header>

<article>
    <p>We are going to build indexedDB database using DexBee.
<br/>
To create a new instance of DexBee, we should plan the schema of the database based on the data we plan to store.
<br/>
<br/></p>
<h4>JSON data to store in indexedDB:</h4>
<pre class="prettyprint source lang-ecmascript"><code>let character = [
    {name: &quot;DIA&quot;, birth: 3014, ethnicity: {planet: 'Earth', country: 'Korea'}},
    {name: &quot;UNE&quot;, birth: 3025, ethnicity: {planet: 'Jupiter', country: 'Great Red Republic'}},
    {name: &quot;Baksa&quot;, birth: 2980, ethnicity: {planet: 'Mars', country: 'Eberswalde'}},
    {name: &quot;Abu&quot;, birth: 3025, ethnicity: {planet: 'Earth', country: 'Brazil'}}
];

let soundtrack = [
    {artist: &quot;DIA&quot;, title: 'Paradise', duration: '3:22'},
    {artist: &quot;DIA&quot;, title: 'Sleepless Night', duration: '4:02'},
    {artist: &quot;UNE&quot;, title: 'Aussie Boy', duration: '3:30'},
    {artist: &quot;Coldplay&quot;, title: 'Paradise', duration: '4:37'}
];
</code></pre>
<br/>
<h3>The schema:</h3>
<pre class="prettyprint source lang-ecmascript"><code>let schema = {
    Stardust: {
        Character: {
            uniqueKey: 'name',
            index: ['ethnicity.planet', 'birth']
        },
        Soundtrack: {  
            uniqueKey: ['artist', 'title'],
            index: 'duration'
        }
    }
}
</code></pre>
<p>The parent key name 'Stardust' is the name of the indexedDB database we will create.
<br/>
Inside, the key name 'Character' and 'Soundtrack' are the name of tables we will create.</p>
<p>Each of these tables are going to be used to store our
character and soundtrack data.
<br/>
<br/></p>
<h4>Table Settings for 'Character':</h4>
<pre class="prettyprint source lang-ecmascript"><code>/*
let character = [
    {name: &quot;DIA&quot;, birth: 3014, ethnicity: {planet: 'Earth', country: 'Korea'}},
    ...
];

let schema = {
    ...
        Character: {
            uniqueKey: 'name',
            index: ['ethnicity.planet', 'birth']
        },
    ...
}
*/
</code></pre>
<p>To store the character data inside table 'Character', we should set the 'uniqueKey' and 'index'.
<br/>
Since we know each character names are unique,
we will use the key name 'name' as the unique ID of the record.</p>
<p>For indexing, key name of the character's planet and birth year is used.
<br/>
By setting up these index keys, DexBee will be able to query these data afterward.
<br/>
<br/></p>
<h4>Table Settings for 'Soundtrack':</h4>
<pre class="prettyprint source lang-ecmascript"><code>/*
let soundtrack = [
    ...
    {artist: &quot;DIA&quot;, title: 'Paradise', duration: '3:22'},
    {artist: &quot;Coldplay&quot;, title: 'Paradise', duration: '4:37'}
];

let schema = {
    ...
        Soundtrack: {  
            uniqueKey: ['artist', 'title'],
            index: 'duration'
        }
    ...
}
*/
</code></pre>
<p>Table 'Soundtrack' will be used to store our soundtrack data.
<br/>
Notice the setting of uniqueKey on 'Soundtrack' table is an array.</p>
<p>Remember, we must set the 'uniqueKey' that can be used as unique id of the record.
<br/>
Otherwise, any new record that has a same unique id will overwrite the previous record.</p>
<p>In our soundtracks data,
we can predict neither of the key values will have a unique value.
<br/>
To solve this, setting up a compound key with 'artist' and 'title'
can make a unique id.</p>
<p>For indexing, we will use the duration value.
<br/>
<br/></p>
<h3>Starting DexBee instance:</h3>
<pre class="prettyprint source lang-ecmascript"><code>let schema = {
    Stardust: {
        Character: {
            uniqueKey: 'name',
            index: ['ethnicity.planet', 'birth']
        },
        Soundtrack: {  
            uniqueKey: ['artist', 'title'],
            index: 'duration'
        }
    }
}
let db = new DexBee(schema);
</code></pre>
<h4>Read and write data to indexedDB:</h4>
<pre class="prettyprint source lang-ecmascript"><code>// Write data
await db.put('Stardust', 'Character', character);
await db.put('Stardust', 'Soundtrack', soundtrack);

// Read data
let char = await db.get('Stardust', 'Character');
let soundtrk = await db.get('Stardust', 'Soundtrack');
</code></pre>
<br/>
<p>Next: <a href="./tutorial-2_query.html">Queries</a></p>
</article>

</section>

</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>